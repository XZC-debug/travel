<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°å¢¨è¥¿å“¥è¡Œç¨‹åœ°å›¾ | 11/25-11/29</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            height: 800px;
            gap: 20px;
            padding: 20px;
        }

        #map {
            flex: 1;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .sidebar {
            width: 320px;
            overflow-y: auto;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        .day-item {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .day-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }

        .day-item.active {
            background: #667eea;
            color: white;
            border-left-color: #764ba2;
        }

        .day-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .day-details {
            font-size: 0.9em;
            opacity: 0.7;
            line-height: 1.6;
        }

        .day-item.active .day-details {
            opacity: 0.9;
        }

        .location-list {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #e0e0e0;
        }

        .location-list p {
            font-size: 0.85em;
            color: #666;
            margin: 5px 0;
        }

        .legend {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .legend-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            font-size: 0.9em;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .checklist {
            margin-top: 20px;
            padding: 20px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 8px;
        }

        .checklist-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .checklist-item {
            font-size: 0.9em;
            margin: 5px 0;
            color: #555;
        }

        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
                height: auto;
            }

            .sidebar {
                width: 100%;
                max-height: 400px;
            }

            #map {
                height: 500px;
            }
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .weather-info {
            background: #fff8e1;
            border-left: 4px solid #ff9800;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 0.85em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—ºï¸ æ–°å¢¨è¥¿å“¥ è¡Œç¨‹åœ°å›¾</h1>
            <p>2025å¹´11æœˆ25æ—¥-29æ—¥ | 2äººè‡ªé©¾æ¸¸</p>
        </div>

        <div class="main-content">
            <div id="map"></div>
            
            <div class="sidebar">
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 10px;">ğŸ“… è¡Œç¨‹å®‰æ’</h3>
                </div>

                <div class="day-item active" onclick="selectDay(0)">
                    <div class="day-title">Day 1 - 11/25 Tue</div>
                    <div class="day-details">ABQ â†’ White Sands æ—¥è½</div>
                    <div class="location-list">
                        <p>ğŸ“ èµ·ç‚¹ï¼šABQæœºåœº (35.04, -106.61)</p>
                        <p>ğŸ“ ç»ˆç‚¹ï¼šAlamogordo (32.90, -106.46)</p>
                        <p>ğŸš— è·ç¦»ï¼š223 mi (3.5-4h)</p>
                    </div>
                    <div class="weather-info">
                        <strong>å¤©æ°”ï¼š</strong>æ™´æœ—<br>
                        <strong>æ¸©åº¦ï¼š</strong>58-66Â°F (14-19Â°C)
                    </div>
                </div>

                <div class="day-item" onclick="selectDay(1)">
                    <div class="day-title">Day 2 - 11/26 Wed</div>
                    <div class="day-details">Alamogordo â†’ Carlsbad â†’ Roswell</div>
                    <div class="location-list">
                        <p>ğŸ“ Carlsbad Caverns (32.18, -104.44)</p>
                        <p>ğŸ“ Roswell (33.39, -104.53)</p>
                        <p>ğŸš— æ€»è·ç¦»ï¼š~4.5h</p>
                    </div>
                    <div class="weather-info">
                        <strong>å¤©æ°”ï¼š</strong>æ™´æœ—<br>
                        <strong>æ¸©åº¦ï¼š</strong>63-66Â°F (17-19Â°C)
                    </div>
                </div>

                <div class="day-item" onclick="selectDay(2)">
                    <div class="day-title">Day 3 - 11/27 Thu</div>
                    <div class="day-details">Roswell â†’ ABQ (æ„Ÿæ©èŠ‚)</div>
                    <div class="location-list">
                        <p>ğŸ“ Sandia Peak Tram (35.19, -106.49)</p>
                        <p>ğŸ“ Old Town ABQ (35.08, -106.65)</p>
                        <p>ğŸš— è·ç¦»ï¼š190 mi (3h)</p>
                    </div>
                    <div class="weather-info">
                        <strong>å¤©æ°”ï¼š</strong>æ™´æœ—<br>
                        <strong>æ¸©åº¦ï¼š</strong>49-54Â°F (9-12Â°C)
                    </div>
                </div>

                <div class="day-item" onclick="selectDay(3)">
                    <div class="day-title">Day 4 - 11/28 Fri</div>
                    <div class="day-details">ABQ â†’ Santa Fe ä¸€æ—¥æ¸¸</div>
                    <div class="location-list">
                        <p>ğŸ“ Santa Fe Plaza (35.69, -105.94)</p>
                        <p>ğŸ“ Meow Wolf (35.65, -105.99)</p>
                        <p>ğŸš— å•ç¨‹ï¼š65 mi (1h)</p>
                    </div>
                    <div class="weather-info">
                        <strong>å¤©æ°”ï¼š</strong>æ™´æœ—<br>
                        <strong>æ¸©åº¦ï¼š</strong>49-54Â°F (9-12Â°C)
                    </div>
                </div>

                <div class="day-item" onclick="selectDay(4)">
                    <div class="day-title">Day 5 - 11/29 Sat</div>
                    <div class="day-details">ABQ å¸‚åŒº â†’ è¿˜è½¦ â†’ è¿”å›</div>
                    <div class="location-list">
                        <p>ğŸ“ Old Town / Nob Hill</p>
                        <p>ğŸ“ ABQ æœºåœºè¿˜è½¦</p>
                        <p>âœˆï¸ æ™šèˆªè¿”å›è´¹åŸ</p>
                    </div>
                    <div class="weather-info">
                        <strong>å¤©æ°”ï¼š</strong>æ™´æœ—<br>
                        <strong>æ¸©åº¦ï¼š</strong>49-54Â°F (9-12Â°C)
                    </div>
                </div>

                <div class="legend">
                    <div class="legend-title">å›¾ä¾‹</div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #FF6B6B;"></div>
                        <span>Day 1 è·¯çº¿</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4ECDC4;"></div>
                        <span>Day 2 è·¯çº¿</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #45B7D1;"></div>
                        <span>Day 3 è·¯çº¿</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #FFA07A;"></div>
                        <span>Day 4 è·¯çº¿</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #98D8C8;"></div>
                        <span>ä½å®¿åœ°ç‚¹</span>
                    </div>
                </div>

                <div class="checklist">
                    <div class="checklist-title">âœ… å‡ºå‘å‰æ£€æŸ¥æ¸…å•</div>
                    <div class="checklist-item">â˜ Carlsbad Caverns é—¨ç¥¨</div>
                    <div class="checklist-item">â˜ Sandia Peak Tram é¢„çº¦</div>
                    <div class="checklist-item">â˜ ç¦»çº¿åœ°å›¾å·²ä¸‹è½½</div>
                    <div class="checklist-item">â˜ é˜²æ™’éœœ & å¢¨é•œ</div>
                    <div class="checklist-item">â˜ ç¾½ç»’æœ/åšå¤–å¥—</div>
                    <div class="checklist-item">â˜ ç§Ÿè½¦ç¡®è®¤ä¿¡æ¯</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–åœ°å›¾ï¼Œcentered on New Mexico
        const map = L.map('map').setView([33.5, -106.0], 7);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);

        // å®šä¹‰å…³é”®åœ°ç‚¹
        const locations = {
            abq_airport: { coords: [35.04, -106.61], name: 'ABQ æœºåœº', type: 'airport' },
            white_sands: { coords: [32.78, -106.17], name: 'White Sands', type: 'attraction' },
            alamogordo: { coords: [32.90, -106.46], name: 'Alamogordo Hotel', type: 'hotel' },
            cloudcroft: { coords: [32.37, -105.77], name: 'Cloudcroft', type: 'town' },
            carlsbad: { coords: [32.18, -104.44], name: 'Carlsbad Caverns', type: 'attraction' },
            roswell: { coords: [33.39, -104.53], name: 'Roswell Inn', type: 'hotel' },
            sandia_base: { coords: [35.19, -106.49], name: 'Sandia Peak Tram', type: 'attraction' },
            old_town: { coords: [35.08, -106.65], name: 'Old Town ABQ', type: 'neighborhood' },
            airbnb: { coords: [35.09, -106.66], name: 'Airbnb (ABQ)', type: 'hotel' },
            santa_fe: { coords: [35.69, -105.94], name: 'Santa Fe Plaza', type: 'attraction' },
            meow_wolf: { coords: [35.65, -105.99], name: 'Meow Wolf', type: 'attraction' }
        };

        // æ·»åŠ æ ‡è®°
        const markers = {};
        const markerColors = {
            airport: '#FF4444',
            hotel: '#4CAF50',
            attraction: '#2196F3',
            town: '#FFC107',
            neighborhood: '#9C27B0'
        };

        Object.entries(locations).forEach(([key, loc]) => {
            const color = markerColors[loc.type];
            const icon = L.divIcon({
                className: 'custom-marker',
                html: `<div style="background-color: ${color}; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3);">ğŸ“</div>`,
                iconSize: [30, 30],
                popupAnchor: [0, -15]
            });

            const marker = L.marker(loc.coords, { icon: icon })
                .bindPopup(`<strong>${loc.name}</strong><br/>åæ ‡: ${loc.coords[0].toFixed(4)}, ${loc.coords[1].toFixed(4)}`)
                .addTo(map);
            
            markers[key] = marker;
        });

        // ç»˜åˆ¶è·¯çº¿
        const routes = [
            {
                day: 0,
                coords: [[35.04, -106.61], [32.78, -106.17], [32.90, -106.46]],
                color: '#FF6B6B',
                name: 'Day 1: ABQ â†’ White Sands â†’ Alamogordo'
            },
            {
                day: 1,
                coords: [[32.90, -106.46], [32.37, -105.77], [32.18, -104.44], [33.39, -104.53]],
                color: '#4ECDC4',
                name: 'Day 2: Alamogordo â†’ Carlsbad â†’ Roswell'
            },
            {
                day: 2,
                coords: [[33.39, -104.53], [35.19, -106.49], [35.08, -106.65]],
                color: '#45B7D1',
                name: 'Day 3: Roswell â†’ ABQ'
            },
            {
                day: 3,
                coords: [[35.09, -106.66], [35.69, -105.94], [35.09, -106.66]],
                color: '#FFA07A',
                name: 'Day 4: ABQ â†” Santa Fe'
            }
        ];

        const polylines = {};
        routes.forEach((route, index) => {
            const polyline = L.polyline(route.coords, {
                color: route.color,
                weight: 3,
                opacity: 0.7,
                dashArray: '5, 5'
            }).addTo(map);
            polylines[route.day] = polyline;
        });

        // å¤„ç†æ—¥æœŸé€‰æ‹©
        function selectDay(dayIndex) {
            // æ›´æ–°æ ·å¼
            document.querySelectorAll('.day-item').forEach((el, i) => {
                el.classList.toggle('active', i === dayIndex);
            });

            // æ›´æ–°åœ°å›¾èšç„¦
            const routesForDay = routes.filter(r => r.day === dayIndex);
            if (routesForDay.length > 0) {
                const allCoords = routesForDay[0].coords;
                const bounds = L.latLngBounds(allCoords);
                map.fitBounds(bounds, { padding: [50, 50], maxZoom: 10 });
            }
        }

        // é»˜è®¤é€‰æ‹©ç¬¬ä¸€å¤©
        selectDay(0);

        // å“åº”å¼è°ƒæ•´
        window.addEventListener('resize', () => {
            setTimeout(() => map.invalidateSize(), 100);
        });
    </script>
</body>
</html>